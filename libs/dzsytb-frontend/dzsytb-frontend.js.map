{"version":3,"sources":["../../../../../../../../../.npm_packages/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js","../../../../../../../ngi/wp2/wp-content/plugins/dzs-zoomsounds/inc/gutenberg/gutenberg-block-factory/block-factory/js_common/_helpers.js","dzsytb-frontend.source.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_regenerator","i","r","n","c","Generator","u","Object","create","_regeneratorDefine2","d","t","y","f","p","length","G","l","e","v","a","bind","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","setPrototypeOf","__proto__","toStringTag","getPrototypeOf","this","displayName","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","_next","_throw","apply","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","_helpers","require","DzsYtbPlayer","$ytb","init","getPlayer","_x","_getPlayer","_callee","$t","$player_","player","_context","find","get","getYTPlayer","self","playerArgs","autoplay","assign","JSON","parse","attr","console","log","playerHere","mute","playVideo","setTimeout","removeClass","window","addEventListener","handleResize","initYoutubeBlock","event","tw","outerWidth","th","outerHeight","excessW","excessH","targetWidth","targetHeight","RATIO_H","RATIO_W","$ytl","css","width","concat","left","top","height","max-height","jQuery","document","ready","$","pluginUrl","settingsDiv","getElementById","_data$dzsytb_settings","data","textContent","innerText","dzsytb_settings","plugin_url","embedStyle","embedScript","each"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";function postAjax(e,t,r){var n=\"string\"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+\"=\"+encodeURIComponent(t[e])}).join(\"&\"),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(\"Microsoft.XMLHTTP\");return o.open(\"POST\",e),o.onreadystatechange=function(){o.readyState>3&&200==o.status&&r(o.responseText)},o.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),o.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),o.send(n),o}function get_query_arg(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.indexOf(t+\"=\")>-1){var n=\"[?&]\"+t+\"=.+\",o=new RegExp(n),d=o.exec(e);if(null!=d){var a=d[0];if(a.indexOf(\"&\")>-1){a=a.split(\"&\")[1]}var c=a.split(\"=\");return r?String(c[1]).plusDecode():String(c[1])}}}function get_query_arg_all(e){var t={};if(e.indexOf(\"=\")>-1)for(var r=/[?|&](.*?)=(.*?)(?=&|$)/g,n=null;n=r.exec(e);)t[n[1]]=n[2];return t}function decode_json(e){var t={};if(e)try{t=JSON.parse(e)}catch(t){console.log(\"[err]\",t,e)}return t}function embedStyle(e){var t=document.head,r=document.createElement(\"link\");r.type=\"text/css\",r.rel=\"stylesheet\",r.href=e,t.appendChild(r)}function embedScript(e,t){var r=document.createElement(\"script\");r.src=e,document.body.appendChild(r),t&&(r.onload=t)}function add_query_arg(e,t,r){t=encodeURIComponent(t),r=encodeURIComponent(r);var n=e,o=t+\"=\"+r,d=new RegExp(\"(&|\\\\?)\"+t+\"=[^&]*\");n=n.replace(d,\"$1\"+o);var a=\"\";if(n.indexOf(t+\"=\")>-1||(a=n.indexOf(\"?\")>-1?\"&\"+o:\"?\"+o,n+=a),\"NaN\"===r){var c=new RegExp(\"[?|&]\"+t+\"=\"+r);n=n.replace(c,\"\")}return n}function convert_for_gutenberg_build_options(e){return e}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.add_query_arg=add_query_arg,exports.convert_for_gutenberg_build_options=convert_for_gutenberg_build_options,exports.decode_json=decode_json,exports.embedScript=embedScript,exports.embedStyle=embedStyle,exports.get_query_arg=get_query_arg,exports.get_query_arg_all=get_query_arg_all,exports.postAjax=postAjax,String.prototype.plusDecode=function(){return decodeURIComponent(this.replace(/\\+/gm,\"%20\"))};","import {decode_json, embedScript, embedStyle} from \"../../features/gutenberg-block-factory/block-factory/js_common/_helpers\";\n\n\nclass DzsYtbPlayer {\n  constructor($ytb) {\n\n    this.$ytb = $ytb;\n    this.init();\n  }\n\n\n  async getPlayer($t) {\n\n\n    const $player_ = $t.find('lite-youtube').get(0);\n\n    const player = await $player_.getYTPlayer();\n\n    return player;\n  }\n\n\n  initYoutubeBlock($ytb) {\n\n    const self = this;\n    let playerArgs = {\n      autoplay: 'pm',\n    };\n\n\n    try{\n      playerArgs = Object.assign(playerArgs, JSON.parse($ytb.attr('data-player_args')))\n    }catch (e) {\n\n      console.log('[err] e - ', e);\n    }\n\n\n    let player$ = this.getPlayer($ytb);\n    player$.then(function(playerHere){\n\n      if(playerArgs.autoplay==='on'){\n\n        playerHere.mute();\n        playerHere.playVideo();\n      }\n\n\n      setTimeout(()=>{\n        $ytb.find('.dzsytb-cover-img').removeClass('visible');\n      },3500);\n\n\n      window.addEventListener(\"resize\", self.handleResize.bind(self));\n\n      self.handleResize(null);\n\n      playerHere.addEventListener(\"onReady\", function(){\n      });\n\n    })\n\n  }\n\n  init(){\n\n    this.initYoutubeBlock(this.$ytb);\n\n  }\n\n  /**\n   *\n   * @param {Event} event\n   */\n  handleResize(event)  {\n\n    const $ytb = this.$ytb;\n\n    let tw = $ytb.outerWidth();\n    let th = $ytb.outerHeight();\n\n    const RATIO_W = 16;\n    const RATIO_H = 8;\n\n    let excessW = 0;\n    let excessH = 0;\n    let targetWidth = tw;\n    let targetHeight = RATIO_H/RATIO_W * tw;\n\n\n\n\n    if(th > targetHeight){\n      targetWidth = RATIO_W/RATIO_H * th;\n      targetHeight = th;\n    }\n\n    if(targetWidth > tw){\n      excessW = targetWidth - tw;\n    }\n    if(targetHeight > th){\n      excessH = targetHeight - th;\n    }\n\n    /** @type {jQuery} */\n    const $ytl =$ytb.find('lite-youtube');\n\n    if(excessW){\n      $ytl.css({\n        'width': `calc(${tw + excessW}px)`,\n        'left': `-${excessW/2}px`,\n        'top': `0`,\n        'height': `${th}px`,\n        'max-height': `none`,\n      })\n    }\n    if(excessH){\n      $ytl.css({\n        'height': `calc(${th + excessH}px)`,\n        'top': `-${excessH/2}px`,\n        'left': `0`,\n        'width': `${tw}px`,\n        'max-height': `none`,\n      })\n    }\n\n  }\n}\n\njQuery(document).ready(function($) {\n\n\n  let pluginUrl = '';\n  // read plugin url from footer settings, if available\n  (function(){\n    const settingsDiv = document.getElementById('dzsytb-settings');\n    if(!settingsDiv){ return; }\n    try{\n      const data = JSON.parse(settingsDiv.textContent || settingsDiv.innerText || '{}');\n      pluginUrl = data?.dzsytb_settings?.plugin_url;\n      if(pluginUrl){\n        window.dzsytb_settings = Object.assign({}, window.dzsytb_settings || {}, {plugin_url: pluginUrl});\n      }\n    }catch(e){\n      // swallow\n    }\n  })();\n\n\n  // load https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.css and https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.js <- self hosted\n  setTimeout(()=>{\n    embedStyle(pluginUrl+'libs/3party/lite-youtube-embed/lite-yt-embed.css')\n    embedScript(pluginUrl+'libs/3party/lite-youtube-embed/lite-yt-embed.js', () => {\n      $('.dzsytb-con').each(function () {\n        /** @type {jQuery} */\n        var $t = $(this);\n\n        var $ytb = new DzsYtbPlayer($t);\n      })\n\n    })\n  },100);\n\n\n\n});\n"]}