{"version":3,"sources":["../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js","../../features/gutenberg-block-factory/block-factory/js_common/_helpers.js","frontend-dzsytb.source.js"],"names":["postAjax","url","data","success","params","Object","keys","map","k","encodeURIComponent","join","xhr","window","XMLHttpRequest","ActiveXObject","open","onreadystatechange","readyState","status","responseText","setRequestHeader","send","get_query_arg","purl","key","isGoingToDecode","arguments","length","undefined","indexOf","regexS","regex","RegExp","regtest","exec","splitterS","split","splitter","String","plusDecode","get_query_arg_all","arr","aux","decode_json","arg","fout","JSON","parse","err","console","log","embedStyle","styleUri","head","document","link","createElement","type","rel","href","appendChild","embedScript","scriptSrc","onLoadFn","script","src","body","onload","add_query_arg","value","s","pair","r","replace","addition","regex_attr","convert_for_gutenberg_build_options","argarr","prototype","decodeURIComponent","this","_helpers","require","DzsYtbPlayer","$ytb","_classCallCheck","init","$t","$player_","find","get","getYTPlayer","player","self","playerArgs","autoplay","attr","assign","e","getPlayer","then","playerHere","mute","playVideo","setTimeout","removeClass","addEventListener","handleResize","bind","initYoutubeBlock","event","tw","outerWidth","th","outerHeight","excessW","excessH","targetWidth","targetHeight","RATIO_H","RATIO_W","$ytl","css","width","concat","left","top","height","max-height","jQuery","ready","$","each"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export function postAjax(url, data, success) {\n  var params = typeof data == 'string' ? data : Object.keys(data).map(\n    function (k) {\n      return encodeURIComponent(k) + '=' + encodeURIComponent(data[k])\n    }\n  ).join('&');\n\n  var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\n  xhr.open('POST', url);\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState > 3 && xhr.status == 200) {\n      success(xhr.responseText);\n    }\n  };\n  xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n  xhr.send(params);\n  return xhr;\n}\n\nString.prototype.plusDecode = function() {\n  return decodeURIComponent(this.replace(/\\+/gm,\"%20\"));\n}\n\nexport function get_query_arg(purl, key, isGoingToDecode = false){\n  if(purl.indexOf(key+'=')>-1){\n    //faconsole.log('testtt');\n    var regexS = \"[?&]\"+key + \"=.+\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    if(regtest != null){\n      var splitterS = regtest[0];\n      if(splitterS.indexOf('&')>-1){\n        var aux = splitterS.split('&');\n        splitterS = aux[1];\n      }\n      var splitter = splitterS.split('=');\n\n      if(isGoingToDecode){\n\n        return String((splitter[1])).plusDecode();\n      }\n      return String((splitter[1]));\n\n    }\n  }\n}\n\nexport function get_query_arg_all(purl){\n\n\n\n  var arr = {};\n  if(purl.indexOf('=')>-1){\n\n    var regex = /[?|&](.*?)=(.*?)(?=&|$)/g;\n\n    var aux = null;\n    while(aux = regex.exec(purl)){\n\n\n\n\n      arr[aux[1]] = aux[2];\n\n    }\n  }\n\n  return arr;\n}\n\nexport function decode_json(arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n      console.log(err, arg);\n    }\n  }\n\n  return fout;\n}\n\n\nexport function embedStyle(styleUri) {\n\n  var head = document.head;\n  var link = document.createElement(\"link\");\n\n  link.type = \"text/css\";\n  link.rel = \"stylesheet\";\n  link.href = styleUri;\n\n  head.appendChild(link);\n}\n/**\n *\n * @param {string} scriptSrc\n * @param {function} onLoadFn\n */\nexport function embedScript(scriptSrc, onLoadFn) {\n  const script = document.createElement(\"script\");\n  script.src = scriptSrc;\n  document.body.appendChild(script); //or something of the likes\n  if(onLoadFn){\n\n    script.onload = onLoadFn;\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n  let s = purl;\n  const pair = key + \"=\" + value;\n\n  const r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n  s = s.replace(r, \"$1\" + pair);\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  // -- if value NaN we remove this field from the url\n  if (value === 'NaN') {\n    const regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n\n  return s;\n}\n\nexport function convert_for_gutenberg_build_options(argarr){\n\n\n  return argarr;\n}\n","import {decode_json, embedScript, embedStyle} from \"../../features/gutenberg-block-factory/block-factory/js_common/_helpers\";\n\n\nclass DzsYtbPlayer {\n  constructor($ytb) {\n\n    this.$ytb = $ytb;\n    this.init();\n  }\n\n\n  async getPlayer($t) {\n\n\n    const $player_ = $t.find('lite-youtube').get(0);\n\n    const player = await $player_.getYTPlayer();\n\n    return player;\n  }\n\n\n  initYoutubeBlock($ytb) {\n\n    const self = this;\n    let playerArgs = {\n      autoplay: 'pm',\n    };\n\n\n    try{\n      console.log('playerArgs - ', $ytb.attr('data-player_args'));\n      playerArgs = Object.assign(playerArgs, JSON.parse($ytb.attr('data-player_args')))\n    }catch (e) {\n\n      console.log('e - ', e);\n    }\n    console.log('playerArgs - ', playerArgs);\n\n\n    let player$ = this.getPlayer($ytb);\n    player$.then(function(playerHere){\n\n      if(playerArgs.autoplay==='on'){\n\n        playerHere.mute();\n        playerHere.playVideo();\n      }\n\n\n      setTimeout(()=>{\n        $ytb.find('.dzsytb-cover-img').removeClass('visible');\n      },3500);\n\n\n      window.addEventListener(\"resize\", self.handleResize.bind(self));\n\n      self.handleResize(null);\n\n      playerHere.addEventListener(\"onReady\", function(){\n        console.log('player ready');\n      });\n\n    })\n\n  }\n\n  init(){\n\n    this.initYoutubeBlock(this.$ytb); \n\n  }\n\n  /**\n   *\n   * @param {Event} event\n   */\n  handleResize(event)  {\n\n    const $ytb = this.$ytb;\n    console.log($ytb);\n\n    let tw = $ytb.outerWidth();\n    let th = $ytb.outerHeight();\n\n    const RATIO_W = 16;\n    const RATIO_H = 8;\n\n    let excessW = 0;\n    let excessH = 0;\n    let targetWidth = tw;\n    let targetHeight = RATIO_H/RATIO_W * tw;\n\n\n\n    console.log(tw,th);\n\n    if(th > targetHeight){\n      targetWidth = RATIO_W/RATIO_H * th;\n      targetHeight = th;\n    }\n\n    if(targetWidth > tw){\n      excessW = targetWidth - tw;\n    }\n    if(targetHeight > th){\n      excessH = targetHeight - th;\n    }\n\n    /** @type {jQuery} */\n    const $ytl =$ytb.find('lite-youtube');\n\n    console.log($ytb.find('lite-youtube'))\n    if(excessW){\n      $ytl.css({\n        'width': `calc(${tw + excessW}px)`,\n        'left': `-${excessW/2}px`,\n        'top': `0`,\n        'height': `${th}px`,\n        'max-height': `none`,\n      })\n    }\n    if(excessH){\n      $ytl.css({\n        'height': `calc(${th + excessH}px)`,\n        'top': `-${excessH/2}px`,\n        'left': `0`,\n        'width': `${tw}px`,\n        'max-height': `none`,\n      })\n    }\n\n    console.log(targetWidth,targetHeight);\n  }\n}\n\njQuery(document).ready(function($) {\n\n\n\n\n  setTimeout(()=>{\n    embedStyle('https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.css')\n    embedScript('https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.js', () => {\n      $('.dzsytb-con').each(function () {\n        /** @type {jQuery} */\n        var $t = $(this);\n\n        var $ytb = new DzsYtbPlayer($t);\n      })\n\n    })\n  },300);\n\n\n\n});\n"]}