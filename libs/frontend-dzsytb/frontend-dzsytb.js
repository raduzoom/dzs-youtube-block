(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function postAjax(e,t,n){var r="string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("POST",e),o.onreadystatechange=function(){o.readyState>3&&200==o.status&&n(o.responseText)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(r),o}function get_query_arg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.indexOf(t+"=")>-1){var r="[?&]"+t+"=.+",o=new RegExp(r),d=o.exec(e);if(null!=d){var a=d[0];if(a.indexOf("&")>-1){a=a.split("&")[1]}var c=a.split("=");return n?String(c[1]).plusDecode():String(c[1])}}}function get_query_arg_all(e){var t={};if(e.indexOf("=")>-1)for(var n=/[?|&](.*?)=(.*?)(?=&|$)/g,r=null;r=n.exec(e);)t[r[1]]=r[2];return t}function decode_json(e){var t={};if(e)try{t=JSON.parse(e)}catch(t){console.log(t,e)}return t}function embedStyle(e){var t=document.head,n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)}function embedScript(e,t){var n=document.createElement("script");n.src=e,document.body.appendChild(n),t&&(n.onload=t)}function add_query_arg(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=e,o=t+"="+n,d=new RegExp("(&|\\?)"+t+"=[^&]*");r=r.replace(d,"$1"+o);var a="";if(r.indexOf(t+"=")>-1||(a=r.indexOf("?")>-1?"&"+o:"?"+o,r+=a),"NaN"===n){var c=new RegExp("[?|&]"+t+"="+n);r=r.replace(c,"")}return r}function convert_for_gutenberg_build_options(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.postAjax=postAjax,exports.get_query_arg=get_query_arg,exports.get_query_arg_all=get_query_arg_all,exports.decode_json=decode_json,exports.embedStyle=embedStyle,exports.embedScript=embedScript,exports.add_query_arg=add_query_arg,exports.convert_for_gutenberg_build_options=convert_for_gutenberg_build_options,String.prototype.plusDecode=function(){return decodeURIComponent(this.replace(/\+/gm,"%20"))};
},{}],2:[function(require,module,exports){
"use strict";function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){asyncGeneratorStep(c,r,o,a,i,"next",e)}function i(e){asyncGeneratorStep(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var _helpers=require("../../features/gutenberg-block-factory/block-factory/js_common/_helpers"),DzsYtbPlayer=function(){function e(t){_classCallCheck(this,e),this.$ytb=t,this.init()}return _createClass(e,[{key:"getPlayer",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find("lite-youtube").get(0),e.next=3,n.getYTPlayer();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return e}()},{key:"initYoutubeBlock",value:function(e){var t=this,n={autoplay:"pm"};try{console.log("playerArgs - ",e.attr("data-player_args")),n=Object.assign(n,JSON.parse(e.attr("data-player_args")))}catch(e){console.log("e - ",e)}console.log("playerArgs - ",n),this.getPlayer(e).then(function(r){"on"===n.autoplay&&(r.mute(),r.playVideo()),setTimeout(function(){e.find(".dzsytb-cover-img").removeClass("visible")},3500),window.addEventListener("resize",t.handleResize.bind(t)),t.handleResize(null),r.addEventListener("onReady",function(){console.log("player ready")})})}},{key:"init",value:function(){this.initYoutubeBlock(this.$ytb)}},{key:"handleResize",value:function(e){var t=this.$ytb;console.log(t);var n=t.outerWidth(),r=t.outerHeight(),o=0,a=0,i=n,c=.5*n;console.log(n,r),r>c&&(i=2*r,c=r),i>n&&(o=i-n),c>r&&(a=c-r);var s=t.find("lite-youtube");console.log(t.find("lite-youtube")),o&&s.css({width:"calc(".concat(n+o,"px)"),left:"-".concat(o/2,"px"),top:"0",height:"".concat(r,"px"),"max-height":"none"}),a&&s.css({height:"calc(".concat(r+a,"px)"),top:"-".concat(a/2,"px"),left:"0",width:"".concat(n,"px"),"max-height":"none"}),console.log(i,c)}}]),e}();jQuery(document).ready(function(e){setTimeout(function(){(0,_helpers.embedStyle)("https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.css"),(0,_helpers.embedScript)("https://unpkg.com/lite-youtube-embed@0.3.2/src/lite-yt-embed.js",function(){e(".dzsytb-con").each(function(){var t=e(this);new DzsYtbPlayer(t)})})},300)});
},{"../../features/gutenberg-block-factory/block-factory/js_common/_helpers":1}]},{},[2])


//# sourceMappingURL=frontend-dzsytb.js.map